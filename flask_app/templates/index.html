{% extends 'base.html' %}
{% include 'header.html' %}

{% block title %} Home {% endblock %}


{% block body %}

{% with messages = get_flashed_messages() %}

{% if messages %}
{% for message in messages %}

<div class="alert alert-success alert-dismissable" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="close">
        <span aria-hidden="true">x</span>
    </button>

{{message}}

</div>


{% endfor %}
{% endif %}
{% endwith %}


<div style="text-align: center;">
    <h3>{{FTaverage}}</h3>
    <img src="dashboard.svg">
</div>

<div class="container">
    <div class="row">
        <div class="'col md-12">

            <div class="jumbotron p-3">
                <h2><b>Add Shooting Session</b></h2>
                <div class="modal-body">
                    <form action="{{url_for('insert')}}", method="POST">

                        <div class="form-group">
                            
                            <label>id:</label>
                            <input type="number" class="form-control", name="id", required="1">

                        </div>

                        <div class="form-group">
                            
                            <label>Year:</label>
                            <input type="number" class="form-control", name="year", required="1">

                        </div>

                        <div class="form-group">
                            
                            <label>Month:</label>
                            <input type="number" class="form-control", name="month", required="1">
                            
                        </div>

                        <div class="form-group">
                            
                            <label>Day:</label>
                            <input type="number" class="form-control", name="day", required="1">
                            
                        </div>

                        <div class="form-group">
                            
                            <label>Free Throws Made:</label>
                            <input type="number" class="form-control", name="FT_made", required="1">
                            
                        </div>

                        <div class="form-group">
                            
                            <label>Free Throws Attempted:</label>
                            <input type="number" class="form-control", name="FT_attempted", required="1">
                            
                        </div>

                        <div class="form-group">
                            
                            <label>Location:</label>
                            <input type="text" class="form-control", name="location", required="1">
                            
                        </div>

                        <div class="form-group">
                            <button class="btn btn-primary" type="submit">Add Statistics</button>
                        </div>
                        
                    </form>
                </div>


                <h2>Manage Shooting</h2>

                <table class="table table-hover table-dark">
                    <tr>
                        <th>Id</th>
                        <th>Year</th>
                        <th>Month</th>
                        <th>Day</th>
                        <th>Free Throws Made</th>
                        <th>Free Throws Attemped</th>
                        <th>Location</th>
                        <th>Action</th>
                    </tr>

                    {% for row in FTsessions %}


                    
                    <tr>
                        <th>{{row.id}}</th>
                        <td>{{row.year}}</td>
                        <td>{{row.month}}</td>
                        <td>{{row.day}}</td>
                        <td>{{row.ft_made}}</td>
                        <td>{{row.ft_attempted}}</td>
                        <td>{{row.location}}</td>
                        <td>
                            <a href="/delete/{{row.id}}" class="btn btn-danger btn-xs" onclick="return confirm('Are You Sure To Delete ?')">Delete</a>
                        </td>
                    </tr>

                    {% endfor %}

                </table>
            </div>


        </div> 
    </div>
</div>

{% endblock %}